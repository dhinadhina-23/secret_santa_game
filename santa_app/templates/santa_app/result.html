{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Santa Result | Merry Christmas!</title>
    <link rel="stylesheet" href="{% static 'santa_app/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background: linear-gradient(135deg, #1A472A 0%, #0A5C36 50%, #1A472A 100%) !important; }
    </style>
</head>
<body>

    <div class="bg-pattern"></div>
    <div id="snowflakes-container"></div>

    <div class="christmas-tree">
        <div class="tree-top"></div>
        <div class="tree-middle"></div>
        <div class="tree-bottom"></div>
        <div class="tree-trunk"></div>
        <div class="bell"></div>
    </div>

    <div class="container">
        <div class="result-header">
            <span class="result-icon">ðŸŽ…</span>
            <h1>Secret Santa Assignments Generated!</h1>
            <span class="result-icon">ðŸŽ„</span>
        </div>

        <div class="success-message">
            <div>
                <h3>Ho Ho Ho! Success!</h3>
                <p>All Secret Santa assignments have been successfully generated.</p>
            </div>
        </div>

        {% if output_file %}
        <div style="text-align: center; margin: 2.5rem 0;">
            <a href="{{ output_file }}" download class="download-btn">
                <i class="fas fa-download"></i> Download Secret Santa CSV
            </a>
        </div>
        {% endif %}

        <div class="footer-note">
            <p><i class="fas fa-shield-alt"></i> Assignments are confidential.</p>
        </div>

        <div style="text-align: center; margin-top: 2rem;">
            <!-- âœ… Corrected link using Django URL name -->
            <a href="{% url 'upload' %}"
               style="color: var(--christmas-red); text-decoration: none; font-weight: 600; padding: 10px 20px; border: 2px solid var(--christmas-red); border-radius: 5px;">
                <i class="fas fa-arrow-left"></i> Back to Upload Page
            </a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('snowflakes-container');
            const snowflakeCount = 100;

            for (let i = 0; i < snowflakeCount; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';

                const size = Math.random() * 8 + 2;
                snowflake.style.width = size + 'px';
                snowflake.style.height = size + 'px';
                snowflake.style.left = Math.random() * 100 + 'vw';

                const duration = Math.random() * 8 + 5;
                snowflake.style.animationDuration = duration + 's';
                snowflake.style.animationDelay = Math.random() * 5 + 's';
                snowflake.style.opacity = Math.random() * 0.7 + 0.3;

                container.appendChild(snowflake);
            }
        });

    </script>

</body>
</html>







